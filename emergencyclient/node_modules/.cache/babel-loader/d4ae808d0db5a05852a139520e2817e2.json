{"ast":null,"code":"var _jsxFileName = \"/home/moringa/emergencyApp/emergencyclient/src/components/NewReportForm.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewReportForm = _ref => {\n  _s();\n\n  let {\n    params,\n    onAddReport,\n    hidePopUp,\n    handleupdateClick,\n    id\n  } = _ref;\n  return function (handleupdateClick) {\n    const [inputData, setInputData] = useState({\n      title: \"\",\n      description: \"\",\n      location: \"\",\n      user_id: \"\"\n    });\n\n    function handleupdateClick() {\n      fetch(`http://localhost:9292/updatereports/${id}`, {\n        method: \"PATCH\",\n        headers: {\n          \"Accept\": \"application/json\"\n        },\n        body: JSON.stringify({\n          title: inputData.title,\n          description: inputData.description,\n          location: inputData.location\n        })\n      }).then(res => res.json()).then(res => console.log(res));\n    } // console.log(params.id)\n\n\n    const URL = \"http://localhost:9292/postreports\";\n\n    const handleInputChange = event => {\n      setInputData({ ...inputData,\n        [event.target.name]: event.target.value\n      });\n    };\n\n    const handleInputDescription = event => {\n      setInputData({ ...inputData,\n        [event.target.name]: event.target.value\n      });\n    };\n\n    const handleInputLocation = event => {\n      setInputData({ ...inputData,\n        [event.target.name]: event.target.value\n      });\n    };\n\n    const handleSubmit = e => {\n      e.preventDefault();\n      const dataInput = {\n        title: inputData.title,\n        description: inputData.description,\n        location: inputData.location,\n        user_id: params.id\n      };\n      fetch(URL, {\n        method: \"POST\",\n        headers: {\n          \"content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(dataInput)\n      }).then(res => res.json()).then(data => onAddReport(data));\n      setInputData({\n        title: \"\",\n        description: \"\",\n        location: \"\"\n      });\n      window.location.reload();\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"formR\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"title\",\n          placeholder: \"Enter Type of emergency report\",\n          onChange: handleInputChange,\n          value: inputData.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n          type: \"text\",\n          name: \"description\",\n          placeholder: \"Enter Description of emergency report\",\n          onChange: handleInputDescription,\n          value: inputData.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          name: \"location\",\n          placeholder: \"Enter Location of emergency report\",\n          onChange: handleInputLocation,\n          value: inputData.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 9\n        }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"action_btn\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"report-btn\",\n            children: \"Submit\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 9\n          }, _this), /*#__PURE__*/_jsxDEV(\"a\", {\n            className: \"close-btn\",\n            onClick: hidePopUp,\n            children: \"Close\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 9\n          }, _this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 9\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 7\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 5\n    }, _this);\n  }(handleupdateClick);\n};\n\n_s(NewReportForm, \"aOMglWvpDvej/zMQ5+mu6FKLSPo=\");\n\n_c = NewReportForm;\nexport default NewReportForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewReportForm\");","map":{"version":3,"names":["React","useState","NewReportForm","params","onAddReport","hidePopUp","handleupdateClick","id","inputData","setInputData","title","description","location","user_id","fetch","method","headers","body","JSON","stringify","then","res","json","console","log","URL","handleInputChange","event","target","name","value","handleInputDescription","handleInputLocation","handleSubmit","e","preventDefault","dataInput","data","window","reload"],"sources":["/home/moringa/emergencyApp/emergencyclient/src/components/NewReportForm.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst NewReportForm = ({ params,onAddReport, hidePopUp,handleupdateClick,id }) => {\n  const [inputData, setInputData] = useState({\n    title: \"\",\n    description: \"\",\n    location: \"\",\n    user_id: \"\"\n\n  });\n\n  function handleupdateClick(){\n    fetch(`http://localhost:9292/updatereports/${id}`,{\n      method: \"PATCH\",\n      headers: {\n        \"Accept\": \"application/json\"\n      },\n      body: JSON.stringify(\n        {\n          title: inputData.title,\n          description: inputData.description,\n          location: inputData.location,\n\n        }\n      )\n\n\n    })\n    .then(res => res.json())\n    .then(res => console.log(res))\n\n  }\n\n  // console.log(params.id)\n  const URL=\"http://localhost:9292/postreports\"\n  const handleInputChange = (event) => {\n    setInputData({\n        ...inputData,[event.target.name]: event.target.value\n    })\n  };\n  const handleInputDescription = (event) => {\n    setInputData({\n        ...inputData,[event.target.name]: event.target.value\n    })\n  };\n\n  const handleInputLocation = (event) => {\n    setInputData({\n        ...inputData,[event.target.name]: event.target.value\n    })\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const dataInput ={\n        title: inputData.title,\n        description: inputData.description,\n        location: inputData.location,\n        user_id:params.id\n    }\n\n    fetch(URL,{\n        method: \"POST\",\n        headers: {\n            \"content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(dataInput)\n    })\n    .then((res) => res.json())\n    .then((data) => onAddReport(data));\n\n    setInputData({\n      title: \"\",\n      description: \"\",\n      location: \"\",\n    })\n    window.location.reload();\n  };\n  return (\n    <div>\n      <form onSubmit={handleSubmit} className=\"formR\">\n        <input\n          type=\"text\"\n          name=\"title\"\n          placeholder=\"Enter Type of emergency report\"\n          onChange={handleInputChange}\n          value={inputData.title}\n        />\n        <br />\n        <textarea\n          type=\"text\"\n          name=\"description\"\n          placeholder=\"Enter Description of emergency report\"\n          onChange={handleInputDescription}\n          value={inputData.description}\n        />\n        <br />\n        <input\n          type=\"text\"\n          name=\"location\"\n          placeholder=\"Enter Location of emergency report\"\n          onChange={handleInputLocation}\n          value={inputData.location}\n        />\n        <br />\n\n        <div className=\"action_btn\">\n        <button type=\"submit\" className=\"report-btn\">\n          Submit\n        </button>\n\n        <a className=\"close-btn\" onClick={hidePopUp}>\n          Close\n        </a>\n        </div>\n        \n      </form>\n    </div>\n  );\n};\n\nexport default NewReportForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}