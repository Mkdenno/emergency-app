{"ast":null,"code":"import _defineProperty from\"/home/moringa/emergencyApp/emergencyclient/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"/home/moringa/emergencyApp/emergencyclient/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/home/moringa/emergencyApp/emergencyclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NewReportForm=function NewReportForm(_ref){var params=_ref.params,onAddReport=_ref.onAddReport,hidePopUp=_ref.hidePopUp,handleupdateClick=_ref.handleupdateClick,id=_ref.id,repo=_ref.repo;var _useState=useState({title:\"\",description:\"\",location:\"\",user_id:\"\"}),_useState2=_slicedToArray(_useState,2),inputData=_useState2[0],setInputData=_useState2[1];// 0703380880\n// function handleupdateClick(){\n//   fetch(`http://localhost:9292/updatereports/${id}`,{\n//     method: \"PATCH\",\n//     headers: {\n//       \"Accept\": \"application/json\"\n//     },\n//     body: JSON.stringify(\n//       {\n//         title: inputData.title,\n//         description: inputData.description,\n//         location: inputData.location,\n//       }\n//     )\n//   })\n//   .then(res => res.json())\n//   .then(res => console.log(res))\n// }\n// console.log(params.id)\nvar URL=\"https://emergencybackend.herokuapp.com\";var handleInputChange=function handleInputChange(event){setInputData(_objectSpread(_objectSpread({},inputData),{},_defineProperty({},event.target.name,event.target.value)));};var handleInputDescription=function handleInputDescription(event){setInputData(_objectSpread(_objectSpread({},inputData),{},_defineProperty({},event.target.name,event.target.value)));};var handleInputLocation=function handleInputLocation(event){setInputData(_objectSpread(_objectSpread({},inputData),{},_defineProperty({},event.target.name,event.target.value)));};var handleSubmit=function handleSubmit(e){e.preventDefault();var dataInput={title:inputData.title,description:inputData.description,location:inputData.location,user_id:params.id};fetch(\"\".concat(URL,\"/postreports\"),{method:\"POST\",headers:{\"content-Type\":\"application/json\"},body:JSON.stringify(dataInput)}).then(function(res){return res.json();}).then(function(data){return onAddReport(data);});setInputData({title:\"\",description:\"\",location:\"\"});window.location.reload();};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"formR\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",placeholder:\"Enter Type of emergency report\",onChange:handleInputChange,value:inputData.title}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"textarea\",{type:\"text\",name:\"description\",placeholder:\"Enter Description of emergency report\",onChange:handleInputDescription,value:inputData.description}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"location\",placeholder:\"Enter Location of emergency report\",onChange:handleInputLocation,value:inputData.location}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{className:\"action_btn\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"report-btn\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"a\",{className:\"close-btn\",onClick:hidePopUp,children:\"Close\"})]})]})});};export default NewReportForm;","map":{"version":3,"names":["React","useState","NewReportForm","params","onAddReport","hidePopUp","handleupdateClick","id","repo","title","description","location","user_id","inputData","setInputData","URL","handleInputChange","event","target","name","value","handleInputDescription","handleInputLocation","handleSubmit","e","preventDefault","dataInput","fetch","method","headers","body","JSON","stringify","then","res","json","data","window","reload"],"sources":["/home/moringa/emergencyApp/emergencyclient/src/components/NewReportForm.js"],"sourcesContent":["import React, { useState } from \"react\";\n\nconst NewReportForm = ({ params,onAddReport, hidePopUp,handleupdateClick,id, repo }) => {\n  const [inputData, setInputData] = useState({\n    title: \"\",\n    description: \"\",\n    location: \"\",\n    user_id: \"\"\n\n  });\n\n  // 0703380880\n\n  // function handleupdateClick(){\n  //   fetch(`http://localhost:9292/updatereports/${id}`,{\n  //     method: \"PATCH\",\n  //     headers: {\n  //       \"Accept\": \"application/json\"\n  //     },\n  //     body: JSON.stringify(\n  //       {\n  //         title: inputData.title,\n  //         description: inputData.description,\n  //         location: inputData.location,\n\n  //       }\n  //     )\n\n\n  //   })\n  //   .then(res => res.json())\n  //   .then(res => console.log(res))\n\n  // }\n\n  // console.log(params.id)\n  const URL=\"https://emergencybackend.herokuapp.com\"\n  const handleInputChange = (event) => {\n    setInputData({\n        ...inputData,[event.target.name]: event.target.value\n    })\n  };\n  const handleInputDescription = (event) => {\n    setInputData({\n        ...inputData,[event.target.name]: event.target.value\n    })\n\n  };\n\n  const handleInputLocation = (event) => {\n    setInputData({\n        ...inputData,[event.target.name]: event.target.value\n    })\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const dataInput ={\n        title: inputData.title,\n        description: inputData.description,\n        location: inputData.location,\n        user_id:params.id\n    }\n\n    fetch(`${URL}/postreports`,{\n        method: \"POST\",\n        headers: {\n            \"content-Type\": \"application/json\",\n        },\n        body: JSON.stringify(dataInput)\n    })\n    .then((res) => res.json())\n    .then((data) => onAddReport(data));\n\n    setInputData({\n      title: \"\",\n      description: \"\",\n      location: \"\",\n    })\n    window.location.reload();\n  };\n  return (\n    <div>\n      <form onSubmit={handleSubmit} className=\"formR\">\n        <input\n          type=\"text\"\n          name=\"title\"\n          placeholder=\"Enter Type of emergency report\"\n          onChange={handleInputChange}\n          value={inputData.title}\n        />\n        <br />\n        <textarea\n          type=\"text\"\n          name=\"description\"\n          placeholder=\"Enter Description of emergency report\"\n          onChange={handleInputDescription}\n          value={inputData.description}\n        />\n        <br />\n        <input\n          type=\"text\"\n          name=\"location\"\n          placeholder=\"Enter Location of emergency report\"\n          onChange={handleInputLocation}\n          value={inputData.location}\n        />\n        <br />\n\n        <div className=\"action_btn\">\n        <button type=\"submit\" className=\"report-btn\">\n          Submit\n        </button>\n\n        <a className=\"close-btn\" onClick={hidePopUp}>\n          Close\n        </a>\n        </div>\n        \n      </form>\n    </div>\n  );\n};\n\nexport default NewReportForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}