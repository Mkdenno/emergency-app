{"ast":null,"code":"import _toConsumableArray from\"/home/moringa/emergencyApp/emergencyclient/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/moringa/emergencyApp/emergencyclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import Home from\"./components/Home\";import{Route,Routes}from\"react-router-dom\";import Register from\"./components/Register\";import Login from\"./components/Login\";import About from\"./components/About\";import NewReportForm from\"./components/NewReportForm\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var url=\"https://emergencybackend.herokuapp.com\";function App(_ref){var params=_ref.params;// const [isDarkMode,setIsDarkMode]=useState(false)\nvar _useState=useState([]),_useState2=_slicedToArray(_useState,2),report=_useState2[0],setReport=_useState2[1];// this will be used for the Dark Mode Toggle feature\n// function handleButton(){\n//   setIsDarkMode((isDarkMode)=> !isDarkMode)\n// }\n// const appClass = isDarkMode ? \"App dark\" : \"App light\"\n// fetching\nuseEffect(function(){fetch(\"\".concat(url,\"/reports\")).then(function(res){return res.json();}).then(function(data){return setReport(data);});},[]);var onAddReport=function onAddReport(addNewReport){setReport([addNewReport].concat(_toConsumableArray(report)));};var handleDeleteReport=function handleDeleteReport(id){var updateReport=report.filter(function(report){return report.id!==id;});setReport(updateReport);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/:id/:username/:role\",element:/*#__PURE__*/_jsx(Home,{params:params,report:report,onAddReport:onAddReport,onReportDelete:handleDeleteReport})}),/*#__PURE__*/_jsx(Route,{path:\"/about\",element:/*#__PURE__*/_jsx(About,{})}),/*#__PURE__*/_jsx(Route,{path:\"/addreport\",element:/*#__PURE__*/_jsx(NewReportForm,{params:params,onAddReport:onAddReport})}),/*#__PURE__*/_jsx(Route,{path:\"/register\",element:/*#__PURE__*/_jsx(Register,{})}),/*#__PURE__*/_jsx(Route,{path:\"/\",element:/*#__PURE__*/_jsx(Login,{})})]})});}export default App;","map":{"version":3,"names":["React","useEffect","useState","Home","Route","Routes","Register","Login","About","NewReportForm","url","App","params","report","setReport","fetch","then","res","json","data","onAddReport","addNewReport","handleDeleteReport","id","updateReport","filter"],"sources":["/home/moringa/emergencyApp/emergencyclient/src/App.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Home from \"./components/Home\";\nimport { Route, Routes } from \"react-router-dom\";\nimport Register from \"./components/Register\";\nimport Login from \"./components/Login\";\nimport About from \"./components/About\";\nimport NewReportForm from \"./components/NewReportForm\";\nconst url =\"https://emergencybackend.herokuapp.com\"\nfunction App({params}) {\n  // const [isDarkMode,setIsDarkMode]=useState(false)\n  const [report, setReport] = useState([]);\n  // this will be used for the Dark Mode Toggle feature\n  // function handleButton(){\n  //   setIsDarkMode((isDarkMode)=> !isDarkMode)\n\n  // }\n  // const appClass = isDarkMode ? \"App dark\" : \"App light\"\n\n  // fetching\n\n  useEffect(() => {\n    fetch(`${url}/reports`)\n      .then((res) => res.json())\n      .then((data) => setReport(data));\n  }, []);\n\n  const onAddReport = (addNewReport) => {\n    setReport([addNewReport, ...report]);\n  };\n  const handleDeleteReport = (id) => {\n    const updateReport = report.filter((report) => report.id !== id);\n    setReport(updateReport);\n  };\n\n\n  return (\n    <div>\n      <Routes>\n        <Route\n          path=\"/:id/:username/:role\"\n          element={\n            <Home\n            params={params}\n              report={report}\n              onAddReport={onAddReport}\n              onReportDelete={handleDeleteReport}\n            />\n          }\n        />\n        <Route path=\"/about\" element={<About />} />\n        <Route path=\"/addreport\" element={<NewReportForm  params={params} onAddReport={onAddReport} />} />\n        <Route path=\"/register\" element={<Register />} />\n        <Route path=\"/\" element={<Login />} />\n      </Routes>\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":"wQAAA,MAAOA,MAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,KAAP,KAAiB,mBAAjB,CACA,OAASC,KAAT,CAAgBC,MAAhB,KAA8B,kBAA9B,CACA,MAAOC,SAAP,KAAqB,uBAArB,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,MAAP,KAAkB,oBAAlB,CACA,MAAOC,cAAP,KAA0B,4BAA1B,C,wFACA,GAAMC,IAAG,CAAE,wCAAX,CACA,QAASC,IAAT,MAAuB,IAATC,OAAS,MAATA,MAAS,CACrB;AACA,cAA4BV,QAAQ,CAAC,EAAD,CAApC,wCAAOW,MAAP,eAAeC,SAAf,eACA;AACA;AACA;AAEA;AACA;AAEA;AAEAb,SAAS,CAAC,UAAM,CACdc,KAAK,WAAIL,GAAJ,aAAL,CACGM,IADH,CACQ,SAACC,GAAD,QAASA,IAAG,CAACC,IAAJ,EAAT,EADR,EAEGF,IAFH,CAEQ,SAACG,IAAD,QAAUL,UAAS,CAACK,IAAD,CAAnB,EAFR,EAGD,CAJQ,CAIN,EAJM,CAAT,CAMA,GAAMC,YAAW,CAAG,QAAdA,YAAc,CAACC,YAAD,CAAkB,CACpCP,SAAS,EAAEO,YAAF,4BAAmBR,MAAnB,GAAT,CACD,CAFD,CAGA,GAAMS,mBAAkB,CAAG,QAArBA,mBAAqB,CAACC,EAAD,CAAQ,CACjC,GAAMC,aAAY,CAAGX,MAAM,CAACY,MAAP,CAAc,SAACZ,MAAD,QAAYA,OAAM,CAACU,EAAP,GAAcA,EAA1B,EAAd,CAArB,CACAT,SAAS,CAACU,YAAD,CAAT,CACD,CAHD,CAMA,mBACE,kCACE,MAAC,MAAD,yBACE,KAAC,KAAD,EACE,IAAI,CAAC,sBADP,CAEE,OAAO,cACL,KAAC,IAAD,EACA,MAAM,CAAEZ,MADR,CAEE,MAAM,CAAEC,MAFV,CAGE,WAAW,CAAEO,WAHf,CAIE,cAAc,CAAEE,kBAJlB,EAHJ,EADF,cAYE,KAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,CAAqB,OAAO,cAAE,KAAC,KAAD,IAA9B,EAZF,cAaE,KAAC,KAAD,EAAO,IAAI,CAAC,YAAZ,CAAyB,OAAO,cAAE,KAAC,aAAD,EAAgB,MAAM,CAAEV,MAAxB,CAAgC,WAAW,CAAEQ,WAA7C,EAAlC,EAbF,cAcE,KAAC,KAAD,EAAO,IAAI,CAAC,WAAZ,CAAwB,OAAO,cAAE,KAAC,QAAD,IAAjC,EAdF,cAeE,KAAC,KAAD,EAAO,IAAI,CAAC,GAAZ,CAAgB,OAAO,cAAE,KAAC,KAAD,IAAzB,EAfF,GADF,EADF,CAqBD,CAED,cAAeT,IAAf"},"metadata":{},"sourceType":"module"}